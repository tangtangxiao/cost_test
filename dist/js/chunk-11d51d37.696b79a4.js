(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-11d51d37"],{"0786":function(e,t,a){"use strict";var i=a("3e8b");a.n(i).a},1907:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("7a82"),a("96cf");var i=a("1da1"),o=a("313e"),r=a("e83a"),n=a("e819"),s={methods:{echartsLine:function(e,t,a,i,r){var n=o.init(document.getElementById(e)),s={tooltip:{trigger:"axis",backgroundColor:"white",borderColor:"#E8E8E8",borderWidth:1,formatter:t+"：{c}",textStyle:{color:"black",fontSize:10,textShadowBlur:15},axisPointer:{type:"none"}},grid:{left:"10px",right:"30px",top:"20%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:a,axisLine:{lineStyle:{width:.4}}},yAxis:{type:"value",show:!0,nameTextStyle:{align:"right"},axisLabel:{formatter:function(e){return e>=1e4?e/1e4+"万":e}},splitNumber:2,splitLine:{lineStyle:{width:.4}},axisLine:{show:!1},axisTick:{show:!1}},series:{data:i,type:"line",smooth:!1,symbol:"circle",symbolSize:1,showSymbol:!1,itemStyle:{color:r},lineStyle:{width:1,shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10,color:r}}};n.setOption(s),window.addEventListener("resize",(function(){n.resize()}))},getHostgroup:function(e){return Object(i.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={jsonrpc:"2.0",method:"hostgroup.get",params:{output:["name"],monitored_hosts:!0,real_hosts:!0,selectHosts:"extend"},auth:n.a.zabbixToken,id:1},e&&Object.defineProperty(a.params,"hostids",{value:e,enumerable:!0}),t.next=4,Object(r.a)(a);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}}}},"3e8b":function(e,t,a){},abd0:function(e,t,a){"use strict";var i=a("e8c7");a.n(i).a},c70d:function(e,t,a){"use strict";var i=a("cc99");a.n(i).a},c8bf:function(e,t,a){"use strict";a.r(t);a("7db0"),a("d81d"),a("fb6a"),a("4e82"),a("0d03"),a("b0c0"),a("4ec9"),a("d3b7"),a("e25e"),a("3ca3"),a("ddb0");var i=a("2909"),o=a("b85c"),r=a("e83a"),n=a("e819"),s=a("313e"),l={name:"ModelPie",props:["modelValues"],mounted:function(){this.modelPie()},methods:{modelPie:function(){var e=s.init(document.getElementById("model-test")),t={tooltip:{trigger:"item",backgroundColor:"white",borderColor:"#E8E8E8",borderWidth:1,formatter:"{a}:<br/>{b}({c} , {d}%)",textStyle:{color:"black",fontSize:12,textShadowBlur:15}},legend:{orient:"vertical",itemWidth:16,itemHeight:10,right:"5%",formatter:function(e){return e.length>8?e.substring(0,8)+"...":e}},color:["#45cec2","#eae40b","#09ad4b","#1869A0","#45C2E0","#4E8975","#5A5476","#FF9393","#254117","#7f02f4","#029ef4","#0556f7","#6905f7","#c405f7","#7d6b92","#a9e8c2","#C1EBDD","#1c9a4e","#f76f0a","#ae6987","#8c1649","#05f7da"],series:[{name:this.modelValues.length?"在线设备数":"",type:"pie",radius:["55%","70%"],left:"-40%",label:{show:!1},data:this.modelValues}]};e.setOption(t),window.addEventListener("resize",(function(){e.resize()}))}},watch:{modelValues:{handler:function(e){e.length&&this.modelPie()}}}},c=a("2877"),d=Object(c.a)(l,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"auto",height:"18vw"},attrs:{id:"model-test"}})}),[],!1,null,null,null).exports,u=[{dataIndex:"name",key:"name",title:"机型"},{title:"在线设备数",dataIndex:"value",key:"value",sorter:function(e,t){return t.value-e.value}},{title:"总设备数",dataIndex:"total",key:"total",sorter:function(e,t){return t.total-e.total}},{title:"在线率",key:"percent",scopedSlots:{customRender:"percent"}}],h={name:"ModelTable",props:["modelValues"],data:function(){return{columns:u}},methods:{}},y=Object(c.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"model-table",staticStyle:{width:"auto",height:"18vw",overflow:"auto"}},[a("a-table",{attrs:{columns:e.columns,"data-source":e.modelValues,pagination:!1,rowKey:"name","row-style":{height:"90px"},"cell-style":{padding:"0px"}},scopedSlots:e._u([{key:"percent",fn:function(t){return a("span",{},[e._v(e._s((100*t.value/t.total).toFixed(2)+"%"))])}}])})],1)}),[],!1,null,"482e2c2e",null).exports,m={name:"OrgDeviceBar",props:["organizationDevice"],data:function(){return{}},methods:{orgDeviceBar:function(){var e=s.init(document.getElementById("org-category")),t={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"white",borderColor:"#E8E8E8",borderWidth:1,textStyle:{color:"black",fontSize:12,textShadowBlur:15}},legend:{data:["在线设备机构数","总设备机构数"],itemWidth:16,itemHeight:10,right:"0%",top:"6%"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center"},grid:{right:"16%",left:"10%",bottom:"14%"},xAxis:[{type:"category",name:"设备数分布",axisTick:{show:!1},data:["0","1~10","11~100","101~1000","1000+"]}],yAxis:[{type:"value",name:"机构数",nameTextStyle:{align:"right"},splitNumber:2,splitLine:{show:!1},axisTick:{show:!0},axisLabel:{interval:0}}],series:[{name:"在线设备机构数",type:"bar",barWidth:20,barGap:0,emphasis:{focus:"series"},data:this.organizationDevice.onlineDeviceOrgs,itemStyle:{color:new s.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#23f3ba"},{offset:.5,color:"#4ad7b0"},{offset:1,color:"#4ad7b0"}])}},{name:"总设备机构数",type:"bar",barWidth:20,emphasis:{focus:"series"},data:this.organizationDevice.deviceOrgs,itemStyle:{color:new s.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])}}]};e.setOption(t),window.addEventListener("resize",(function(){e.resize()}))}},watch:{organizationDevice:{handler:function(e){e.hasOwnProperty("deviceOrgs")&&this.orgDeviceBar()}}}},p=Object(c.a)(m,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"auto",height:"18vw"},attrs:{id:"org-category"}})}),[],!1,null,null,null).exports,v=a("1907"),g={name:"YearOrg",props:["yearOrganization"],mixins:[v.a],watch:{yearOrganization:{deep:!0,handler:function(e){e.year.length&&this.echartsLine("year-org","机构数",this.yearOrganization.year,this.yearOrganization.organization,"#05524d")}}}},f=Object(c.a)(g,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"auto",height:"8.2vw"},attrs:{id:"year-org"}})}),[],!1,null,null,null).exports,b={name:"YearUser",props:["yearUser"],mixins:[v.a],watch:{yearUser:{deep:!0,handler:function(e){e.year.length&&this.echartsLine("year-user","用户数",this.yearUser.year,this.yearUser.user,"#5A5476")}}}},w=Object(c.a)(b,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"auto",height:"8.2vw"},attrs:{id:"year-user"}})}),[],!1,null,null,null).exports,x={name:"YearDevice",props:["yearDevice"],methods:{deviceLine:function(){var e=s.init(document.getElementById("year-device")),t={tooltip:{trigger:"axis",backgroundColor:"white",borderColor:"#E8E8E8",borderWidth:1,formatter:"{a0}：{c0}<br/>{a1}：{c1}",textStyle:{color:"black",fontSize:10,textShadowBlur:15},axisPointer:{type:"none"}},legend:{show:!0,itemWidth:12,itemHeight:2,top:"4%",data:[{name:"在线设备",icon:"roundRect",itemHeight:2},{name:"总设备",icon:"roundRect",itemHeight:2}],textStyle:{fontSize:9}},grid:{left:"10px",right:"30px",top:"20%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:this.yearDevice.year,axisLine:{lineStyle:{width:.4}}},yAxis:{type:"value",show:!0,axisLine:{show:!1},axisTick:{show:!1},nameTextStyle:{align:"right"},axisLabel:{formatter:function(e){return e>=1e4?e/1e4+"万":e}},splitNumber:2,splitLine:{lineStyle:{width:.4}}},series:[{name:"在线设备",data:this.yearDevice.deviceOnline,type:"line",smooth:!1,symbol:"circle",symbolSize:1,showSymbol:!1,lineStyle:{width:1,shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10,color:"#01f457"},itemStyle:{color:"#01f457"}},{name:"总设备",data:this.yearDevice.deviceTotal,type:"line",smooth:!1,symbol:"circle",symbolSize:1,showSymbol:!1,itemStyle:{color:"#188df0"},lineStyle:{width:1,shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10,color:"#188df0"}}]};e.setOption(t),window.addEventListener("resize",(function(){e.resize()}))}},watch:{yearDevice:{deep:!0,handler:function(e){e.year.length&&this.deviceLine()}}}},S=Object(c.a)(x,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"auto",height:"8.2vw"},attrs:{id:"year-device"}})}),[],!1,null,null,null).exports,z=(a("99af"),{name:"YearModel",props:["yearModel"],methods:{modelLine:function(){var e=s.init(document.getElementById("year-model")),t={tooltip:{trigger:"axis",backgroundColor:"white",borderColor:"#E8E8E8",borderWidth:1,formatter:function(e){var a=e[0].dataIndex;return"".concat(t.series[0].name,"：").concat(t.series[0].data[a],"<br>").concat(t.series[1].name,"：").concat(t.series[1].data[a],"<br>").concat(t.series[2].name,"：").concat(t.series[2].data[a])},textStyle:{color:"black",fontSize:10,textShadowBlur:15},axisPointer:{type:"none"}},legend:{show:!0,itemWidth:12,itemHeight:2,top:"4%",data:[{name:this.yearModel.model[0].name,icon:"roundRect",itemHeight:2},{name:this.yearModel.model[1].name,icon:"roundRect",itemHeight:2},{name:this.yearModel.model[2].name,icon:"roundRect",itemHeight:2}],textStyle:{fontSize:9}},grid:{left:"10px",right:"30px",top:"20%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:this.yearModel.year,axisLine:{lineStyle:{width:.4}}},yAxis:{type:"value",show:!0,nameTextStyle:{align:"right"},axisLabel:{formatter:function(e){return e>=1e4?e/1e4+"万":e}},splitNumber:2,splitLine:{lineStyle:{width:.4}},axisLine:{show:!1},axisTick:{show:!1}},series:[{name:this.yearModel.model[0].name,data:this.yearModel.model[0].online,type:"line",smooth:!1,symbol:"circle",symbolSize:1,showSymbol:!1,lineStyle:{width:1,shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10,color:"#45cec2"},itemStyle:{color:"#45cec2"}},{name:this.yearModel.model[1].name,data:this.yearModel.model[1].online,type:"line",smooth:!1,symbol:"circle",symbolSize:1,showSymbol:!1,itemStyle:{color:"#e27330"},lineStyle:{width:1,color:"#e27330"}},{name:this.yearModel.model[2].name,data:this.yearModel.model[2].online,type:"line",smooth:!1,symbol:"circle",symbolSize:1,showSymbol:!1,itemStyle:{color:"#1869A0"},lineStyle:{width:1,shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10,color:"#1869A0"}}]};e.setOption(t),window.addEventListener("resize",(function(){e.resize()}))}},watch:{yearModel:{deep:!0,handler:function(e){this.yearModel.year.length&&this.modelLine()}}}}),C=Object(c.a)(z,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"auto",height:"8.2vw"},attrs:{id:"year-model"}})}),[],!1,null,null,null).exports,_=(a("ac1f"),a("1276"),{name:"YearModelDetail",props:["yearModel"],data:function(){return{model:[],color:["#45cec2","#eae40b","#09ad4b","#1869A0","#45C2E0","#4E8975","#C1EBDD","#5A5476","#FF9393","#7f02f4","#029ef4","#0556f7","#6905f7","#c405f7","#7d6b92","#a9e8c2","#1c9a4e","#f76f0a","#ae6987","#8c1649","#05f7da","#254117","#f75555","#942dfb","#feaf06"],selectedModel:"",selectedColor:"",newColor:"",lineOnline:[],lineTotal:[],moveColor:""}},mounted:function(){var e,t=Object(o.a)(this.yearModel.model);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.model.push(a.name)}}catch(e){t.e(e)}finally{t.f()}this.selectedModel=this.model[0],this.selectedColor="rgb(69, 206, 194)"},methods:{selectModel:function(e){this.selectedModel=this.$refs["model".concat(e)].innerText,this.selectedColor=this.moveColor},mouseEnter:function(e){this.moveColor=this.$refs["tag".concat(e)].style.background,this.$refs["tag".concat(e)].style.background=this.getColor(this.moveColor)},mouseLeave:function(e){this.$refs["tag".concat(e)].style.background=this.moveColor},modelLine:function(){var e=s.init(document.getElementById("model-line")),t={title:{left:"center",text:this.selectedModel+"机型设备数统计",textStyle:{fontWeight:"bolder",fontSize:14,fontFamily:"Arial"}},tooltip:{trigger:"axis",backgroundColor:"white",borderColor:"#E8E8E8",borderWidth:1,textStyle:{color:"black",fontSize:12,textShadowBlur:15},axisPointer:{type:"none"}},legend:{show:!0,itemWidth:20,itemHeight:3,right:"4%",top:"4%",data:[{name:"在线设备数",icon:"roundRect"},{name:"总设备数",icon:"roundRect"}],textStyle:{fontSize:12}},grid:{left:"14px",right:"8%",bottom:"6%",containLabel:!0},xAxis:{type:"category",name:"年份",boundaryGap:!1,axisTick:{show:!0},data:this.yearModel.year,axisLine:{lineStyle:{width:.4}}},yAxis:{type:"value",name:"设备数",nameTextStyle:{align:"right"},show:!0,splitNumber:2,splitLine:{lineStyle:{width:.6}}},series:[{name:"总设备数",data:this.lineTotal,type:"line",smooth:!0,symbol:"circle",symbolSize:1,showSymbol:!1,lineStyle:{width:1.3,shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10,color:this.newColor},itemStyle:{color:this.newColor}},{name:"在线设备数",data:this.lineOnline,type:"line",smooth:!0,symbol:"circle",symbolSize:1,showSymbol:!1,itemStyle:{color:this.selectedColor},lineStyle:{width:1.3,shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10,color:this.selectedColor}}]};e.setOption(t)},getColor:function(e){var t=e.split(/\(|\)|,/),a=parseInt(t[1]),i=parseInt(t[2]),o=parseInt(t[3]);return"rgb("+(a-80<0?0:a-80)+","+(i-80<0?0:i-80)+","+(o-80<0?0:o-80)+")"}},watch:{selectedModel:{handler:function(e){var t=this,a=this.yearModel.model.find((function(e){return e.name==t.selectedModel}));this.lineOnline=a.online,this.lineTotal=a.total,this.newColor=this.getColor(this.selectedColor),this.modelLine()}}}}),O=(a("c70d"),Object(c.a)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{gutter:0}},[a("a-col",{attrs:{span:5}},[a("a-card",{attrs:{bordered:!1,bodyStyle:{"padding-left":"30px",height:"350px"}}},[a("a-list",{attrs:{size:"small",grid:{gutter:0,column:2},"data-source":e.model},scopedSlots:e._u([{key:"renderItem",fn:function(t,i){return a("a-list-item",{staticStyle:{height:"26px"}},[a("span",{staticStyle:{display:"flex","align-items":"center",cursor:"pointer"},on:{mouseleave:function(t){return e.mouseLeave(i)},click:function(t){return e.selectModel(i)},mouseenter:function(t){return e.mouseEnter(i)}}},[a("span",{ref:"tag"+i,style:{width:"16px",height:"10px",background:e.color[i],"margin-right":"4px","border-radius":"2px"}}),a("span",{ref:"model"+i,staticClass:"text-ellipsis"},[e._v(e._s(t))])])])}}])})],1)],1),a("a-col",{attrs:{span:19}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.yearModel.year.length,expression:"yearModel.year.length"}],staticStyle:{width:"auto",height:"350px"},attrs:{id:"model-line"}})])],1)],1)}),[],!1,null,null,null).exports),M=[{dataIndex:"name",key:"name",title:"名称"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"在线设备数",key:"device_online_num",dataIndex:"device_online_num"},{title:"设备总数",dataIndex:"device_num",key:"device_num"},{title:"在线率",key:"percent",scopedSlots:{customRender:"percent"}}],k={components:{ModelPie:d,ModelTable:y,OrgDeviceBar:p,YearOrg:f,YearUser:w,YearDevice:S,YearModel:C,YearModelDetail:O},data:function(){return{zabbixResource:"",hostGroups:[],selectedGroup:"DN5-DM-G-IOT",modelType:!0,modelValues:[],deviceTop:[],columns:M,organizationDevice:{},yearOrganization:{year:[],organization:[]},yearUser:{year:[],user:[]},yearDevice:{year:[],deviceOnline:[],deviceTotal:[]},yearModel:{year:[],model:[]},modalVisible:!1,iconTableColor:"icon-unselected-color",iconPieColor:"icon-selected-color"}},mounted:function(){var e=this;Object(r.a)({jsonrpc:"2.0",method:"host.get",params:{output:["hostgroups"],selectHostGroups:"extend",templateids:n.a.zabbixTemplateId,monitored_hosts:!0},auth:n.a.zabbixToken,id:1}).then((function(t){var a,r=[],n=Object(o.a)(t.data.result);try{for(n.s();!(a=n.n()).done;){var s=a.value;r.push(s.hostgroups[0].name)}}catch(e){n.e(e)}finally{n.f()}r.sort(),e.hostGroups=Object(i.a)(new Map(r.map((function(e){return[e,e]}))).values())})),this.$route.query.pf&&(this.selectedGroup=this.$route.query.pf),this.handleChange()},methods:{handleChange:function(){var e=this;Object(r.a)({jsonrpc:"2.0",method:"item.get",params:{output:["name","lastvalue"],group:this.selectedGroup,monitored:"true",tags:[{tag:"Application",value:"device"},{tag:"Application",value:"opsany"}],sortfield:"name"},auth:n.a.zabbixToken,id:1}).then((function(t){e.zabbixResource=t.data;try{e.deviceTop=JSON.parse(e.getItemValue("device_online_top10"))}catch(t){e.deviceTop=[]}e.modelValues=[],e.yearDevice={year:[],deviceOnline:[],deviceTotal:[]},e.yearModel={year:[],model:[]};var a=[],i=e.getItemValue("device统计");try{var r,n=JSON.parse(i).data,s=Object(o.a)(n);try{for(s.s();!(r=s.n()).done;){var l=r.value;e.yearDevice.year.push(l.year),e.yearModel.year.push(l.year),e.yearDevice.deviceOnline.push(l.online),e.yearDevice.deviceTotal.push(l.total)}}catch(e){s.e(e)}finally{s.f()}var c,d=n.slice(-1)[0],u=Object(o.a)(d.models);try{var h=function(){var t=c.value;e.modelValues.push({name:t._id,value:t.online,total:t.total});var i,r=[],s=[],l=Object(o.a)(n);try{for(l.s();!(i=l.n()).done;){var d=i.value.models.find((function(e){return e._id==t._id}));r.push(d?d.online:0),s.push(d?d.total:0)}}catch(e){l.e(e)}finally{l.f()}a.push({name:t._id,online:r,total:s})};for(u.s();!(c=u.n()).done;)h()}catch(e){u.e(e)}finally{u.f()}var y,m=Object(o.a)(e.modelValues.sort((function(e,t){return t.value-e.value})));try{e:for(m.s();!(y=m.n()).done;){var p,v=y.value,g=Object(o.a)(a);try{for(g.s();!(p=g.n()).done;){var f=p.value;if(v.name==f.name){e.yearModel.model.push(f);continue e}}}catch(e){g.e(e)}finally{g.f()}}}catch(e){m.e(e)}finally{m.f()}}catch(e){}e.organizationDevice={},e.yearOrganization={year:[],organization:[]};var b=e.getItemValue("机构统计");try{var w=JSON.parse(b);e.organizationDevice={deviceOrgs:[w.deviceorgs.devicezero,w.deviceorgs.device10,w.deviceorgs.device100,w.deviceorgs.device1000,w.deviceorgs.device1000plus],onlineDeviceOrgs:[w.onlinedeviceorgs.onlinedevicezero,w.onlinedeviceorgs.onlinedevice10,w.onlinedeviceorgs.device100,w.onlinedeviceorgs.device1000,w.onlinedeviceorgs.onlinedevice1000plus]};var x,S=Object(o.a)(w.data);try{for(S.s();!(x=S.n()).done;){var z=x.value;e.yearOrganization.year.push(z.year),e.yearOrganization.organization.push(z.total)}}catch(e){S.e(e)}finally{S.f()}}catch(t){e.organizationDevice={}}e.yearUser={year:[],user:[]};var C=e.getItemValue("users统计");try{var _,O=JSON.parse(C),M=Object(o.a)(O.data);try{for(M.s();!(_=M.n()).done;){var k=_.value;e.yearUser.year.push(k.year),e.yearUser.user.push(k.total)}}catch(e){M.e(e)}finally{M.f()}}catch(e){}}))},changeModelType:function(e){"table"==e&&(this.modelType=!1,this.iconTableColor="icon-selected-color",this.iconPieColor="icon-unselected-color"),"pie"==e&&(this.modelType=!0,this.iconTableColor="icon-unselected-color",this.iconPieColor="icon-selected-color")},getTime:function(e){var t=new Date(1e3*parseInt(e));return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+"   "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}},computed:{getItemValue:function(){return function(e){try{return this.zabbixResource.result.find((function(t){return t.name==e})).lastvalue}catch(e){}}}}},D=(a("0786"),a("abd0"),Object(c.a)(k,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"card-space"},[a("label",{attrs:{for:""}},[e._v("平台：")]),a("a-select",{staticStyle:{width:"300px"},on:{change:e.handleChange},model:{value:e.selectedGroup,callback:function(t){e.selectedGroup=t},expression:"selectedGroup"}},e._l(e.hostGroups,(function(t,i){return a("a-select-option",{key:i,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("div",{staticClass:"content"},[a("a-card",{staticClass:"card-space"},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:5}},[a("a-card",{staticClass:"cardview",attrs:{size:"small",ca:"",hoverable:!0,bodyStyle:{margin:"0px",padding:"0px"}}},[a("div",{staticClass:"view-title"},[e._v("设备总数")]),a("div",{staticClass:"view-content"},[a("div",{staticClass:"iconfont icon-device"}),a("div",{staticClass:"view-value"},[e._v(e._s(e.getItemValue("db_device_num")))])])])],1),a("a-col",{attrs:{span:5}},[a("a-card",{staticClass:"cardview",attrs:{size:"small",hoverable:!0,bodyStyle:{margin:"0px",padding:"0px"}}},[a("div",{staticClass:"view-title"},[e._v("在线设备数")]),a("div",{staticClass:"view-content"},[a("div",{staticClass:"iconfont icon-online-device"}),a("div",{staticClass:"view-value"},[e._v(e._s(e.getItemValue("db_device_online_num")))])])])],1),a("a-col",{attrs:{span:5}},[a("a-card",{staticClass:"cardview",attrs:{size:"small",hoverable:!0,bodyStyle:{margin:"0px",padding:"0px"}}},[a("div",{staticClass:"view-title"},[e._v("机构数")]),a("div",{staticClass:"view-content"},[a("div",{staticClass:"iconfont icon-jigou"}),a("div",{staticClass:"view-value"},[e._v(e._s(e.getItemValue("db_organization_num")))])])])],1),a("a-col",{attrs:{span:5}},[a("a-card",{staticClass:"cardview",attrs:{size:"small",hoverable:!0,bodyStyle:{margin:"0px",padding:"0px"}}},[a("div",{staticClass:"view-title"},[e._v("用户数")]),a("div",{staticClass:"view-content"},[a("div",{staticClass:"iconfont icon-user"}),a("div",{staticClass:"view-value"},[e._v(e._s(e.getItemValue("db_users_num")))])])])],1),a("a-col",{attrs:{span:5}},[a("a-card",{staticClass:"cardview",attrs:{size:"small",hoverable:!0,bodyStyle:{margin:"0px",padding:"0px"}}},[a("div",{staticClass:"view-title"},[e._v("活跃用户数")]),a("div",{staticClass:"view-content"},[a("div",{staticClass:"iconfont icon-user-live"}),a("div",{staticClass:"view-value"},[e._v(e._s(e.getItemValue("db_users_live")))])])])],1)],1)],1),a("a-row",{staticClass:"card-space",attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-card",{attrs:{title:"机构设备分布统计",headStyle:{"font-weight":"bold"}}},[a("OrgDeviceBar",{directives:[{name:"show",rawName:"v-show",value:e.organizationDevice.hasOwnProperty("deviceOrgs"),expression:"organizationDevice.hasOwnProperty('deviceOrgs')"}],attrs:{organizationDevice:e.organizationDevice}}),a("a-empty",{directives:[{name:"show",rawName:"v-show",value:!e.organizationDevice.hasOwnProperty("deviceOrgs"),expression:"!organizationDevice.hasOwnProperty('deviceOrgs')"}],staticStyle:{width:"auto",height:"18vw",display:"flex","align-items":"center","justify-content":"center"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-card",{attrs:{title:"机型设备数统计",headStyle:{"font-weight":"bold"}}},[a("a-tooltip",{attrs:{slot:"extra",placement:"bottom",overlayClassName:"bgc_tooltip"},slot:"extra"},[a("template",{slot:"title"},[a("span",[e._v("统计图")])]),a("a-icon",{staticClass:"icon-pie-basic icon-basic",class:e.iconPieColor,attrs:{type:"area-chart"},on:{click:function(t){return e.changeModelType("pie")}}})],2),a("a-tooltip",{attrs:{slot:"extra",placement:"bottom",overlayClassName:"bgc_tooltip"},slot:"extra"},[a("template",{slot:"title"},[a("span",[e._v("统计表")])]),a("a-icon",{staticClass:"icon-table-basic icon-basic",class:e.iconTableColor,attrs:{type:"unordered-list"},on:{click:function(t){return e.changeModelType("table")}}})],2),!e.modelType&&e.modelValues.length?a("ModelTable",{attrs:{modelValues:e.modelValues}}):e.modelType&&e.modelValues.length?a("ModelPie",{attrs:{modelValues:e.modelValues}}):e._e(),a("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==e.modelValues.length,expression:"modelValues.length == 0"}],staticStyle:{width:"auto",height:"18vw",display:"flex","align-items":"center","justify-content":"center"}})],1)],1)],1),a("a-card",{staticClass:"card-space",attrs:{title:"年增长趋势",headStyle:{"font-weight":"bold"}}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:6}},[a("a-card",{attrs:{title:"机构",size:"small",headStyle:{"font-size":"12px",background:"rgba(0,0,0,0.03)"},bodyStyle:{padding:"0px"}}},[a("a-button",{staticStyle:{visibility:"hidden"},attrs:{slot:"extra",size:"small"},slot:"extra"}),a("YearOrg",{directives:[{name:"show",rawName:"v-show",value:e.yearOrganization.year.length,expression:"yearOrganization.year.length"}],attrs:{yearOrganization:e.yearOrganization}}),a("a-empty",{directives:[{name:"show",rawName:"v-show",value:!e.yearOrganization.year.length,expression:"!yearOrganization.year.length"}],staticStyle:{width:"auto",height:"120px",display:"flex","align-items":"center","justify-content":"center"},attrs:{description:!1}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-card",{attrs:{title:"用户",size:"small",headStyle:{"font-size":"12px",background:"rgba(0,0,0,0.03)"},bodyStyle:{padding:"0px"}}},[a("a-button",{staticStyle:{visibility:"hidden"},attrs:{slot:"extra",size:"small"},slot:"extra"}),a("YearUser",{directives:[{name:"show",rawName:"v-show",value:e.yearUser.year.length,expression:"yearUser.year.length"}],attrs:{yearUser:e.yearUser}}),a("a-empty",{directives:[{name:"show",rawName:"v-show",value:!e.yearUser.year.length,expression:"!yearUser.year.length"}],staticStyle:{width:"auto",height:"120px",display:"flex","align-items":"center","justify-content":"center"},attrs:{description:!1}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-card",{attrs:{title:"设备",size:"small",headStyle:{"font-size":"12px",background:"rgba(0,0,0,0.03)"},bodyStyle:{padding:"0px"}}},[a("a-button",{staticStyle:{visibility:"hidden"},attrs:{slot:"extra",size:"small"},slot:"extra"}),a("YearDevice",{directives:[{name:"show",rawName:"v-show",value:e.yearDevice.year.length,expression:"yearDevice.year.length"}],attrs:{yearDevice:e.yearDevice}}),a("a-empty",{directives:[{name:"show",rawName:"v-show",value:!e.yearDevice.year.length,expression:"!yearDevice.year.length"}],staticStyle:{width:"auto",height:"120px",display:"flex","align-items":"center","justify-content":"center"},attrs:{description:!1}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-card",{attrs:{title:"机型在线设备数(前三)",size:"small",headStyle:{"font-size":"12px",background:"rgba(0,0,0,0.03)"},bodyStyle:{padding:"0px"}}},[a("a-button",{staticStyle:{"font-size":"12px"},attrs:{slot:"extra",size:"small",type:"link"},on:{click:function(t){e.modalVisible=!0}},slot:"extra"},[e._v("更多机型统计")]),a("YearModel",{directives:[{name:"show",rawName:"v-show",value:e.yearModel.year.length,expression:"yearModel.year.length"}],attrs:{yearModel:e.yearModel}}),a("a-empty",{directives:[{name:"show",rawName:"v-show",value:!e.yearModel.year.length,expression:"!yearModel.year.length"}],staticStyle:{width:"auto",height:"120px",display:"flex","align-items":"center","justify-content":"center"},attrs:{description:!1}})],1)],1)],1)],1),a("a-modal",{attrs:{title:"机型设备数统计",centered:"",width:"80%",footer:null,maskClosable:!1},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[a("span",{staticStyle:{"font-size":"18px"},attrs:{slot:"closeIcon"},slot:"closeIcon"},[e._v("✕")]),e.modalVisible?a("YearModelDetail",{attrs:{yearModel:e.yearModel}}):e._e()],1),a("a-row",[a("a-card",{attrs:{title:"机构在线设备TOP10",headStyle:{"font-weight":"bold"}}},[a("a-table",{attrs:{columns:e.columns,"data-source":e.deviceTop,pagination:!1,rowKey:"name"},scopedSlots:e._u([{key:"percent",fn:function(t){return a("span",{},[e._v(e._s((100*t.device_online_num/t.device_num).toFixed(2)+"%"))])}}])})],1)],1)],1)])}),[],!1,null,"b49099b0",null));t.default=D.exports},cc99:function(e,t,a){},e83a:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));a("d3b7"),a("ac1f"),a("1276");var i=a("bc3a"),o=a.n(i),r=(a("4360"),a("8ded"),a("56cd")),n=a("f64c"),s=(a("a27e"),a("4328")),l=a.n(s),c=a("e819");o.a.defaults.withCredentials=!1;var d=o.a.create({baseURL:c.a.zabbixUrl}),u=function(e){if(e.response){var t=e.response.statusText;r.a.error({message:"错误",description:t})}return Promise.reject(e)};d.interceptors.request.use((function(e){return"get"==e.method.toLowerCase()&&(e.paramsSerializer=function(e){return l.a.stringify(e,{arrayFormat:"repeat"})}),e}),u),d.interceptors.response.use(null,(function(e){return e&&e.response&&403==e.response.status&&n.a.warning({content:e.response}),Promise.reject("expectations error")}),u);var h=d,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h({url:"/api_jsonrpc.php",method:"post",data:e})}},e8c7:function(e,t,a){}}]);