(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c244b112"],{"029d":function(t,s,a){"use strict";a.r(s);a("7db0"),a("caad"),a("b0c0"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0");var e=a("b85c"),i=a("5530"),o=(a("6287"),a("313e")),n=a("2f62"),c={data:function(){return{}},props:["pieData","id","componentDataStatus"],mounted:function(){this.count>3&&this.modelPie(),this.count<=4&&this.$store.commit("productLineCost/COUNTADD")},methods:{modelPie:function(){var t=o.init(document.getElementById(this.id)),s={tooltip:{trigger:"item",backgroundColor:"white",borderColor:"#E8E8E8",borderWidth:1,formatter:"{b}({c} , {d}%)",textStyle:{color:"black",fontSize:12,textShadowBlur:15}},legend:{orient:"vertical",itemWidth:16,itemHeight:10,right:"16%",top:"center",formatter:function(t){return t.length>13?t.substring(0,12)+"...":t},textStyle:{fontSize:10}},color:["#5698F5","#E2C93D","#FF7070","#35A1D3","#4E8975","#5A5476","#FF9393","#254117","#7f02f4","#029ef4","#0556f7","#6905f7","#c405f7","#7d6b92","#a9e8c2","#C1EBDD","#1c9a4e","#f76f0a","#ae6987","#8c1649","#05f7da"],series:[{name:"金额",type:"pie",radius:["46%","60%"],left:"-40%",label:{show:!1},data:this.pieData}]};t.setOption(s),window.addEventListener("resize",(function(){t.resize()}))}},computed:Object(i.a)({},Object(n.c)("productLineCost",["count"])),watch:{pieData:{handler:function(t){this.count>3&&this.modelPie(),this.count<=4&&this.$store.commit("productLineCost/COUNTADD")}}}},r=a("2877"),l={data:function(){return{}},components:{CostPie:Object(r.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{width:"100%",height:"18vw"},attrs:{id:this.id}})}),[],!1,null,null,null).exports},mounted:function(){this.$store.dispatch("productLineCost/platformGroupResource"),this.$store.dispatch("productLineCost/applicationResource"),this.$store.dispatch("productLineCost/applicationGroupResource")},methods:Object(i.a)({},Object(n.b)("productLineCost",{getData:"applicationResource"})),computed:Object(i.a)(Object(i.a)({},Object(n.c)("productLineCost",["applicationResource","applicationGroupResource","platformGroupResource","hostCostResource"])),{},{getCost:function(){return function(t,s){var a,i=0,o=Object(e.a)(this.platformGroupResource);try{for(o.s();!(a=o.n()).done;){var n=a.value;n.currencyClass[0]==s&&("host"==t?i+=n.hostCost:"disk"==t?i+=n.diskCost:"bandwidth"==t&&(i+=n.bandwidthCost))}}catch(t){o.e(t)}finally{o.f()}return i}},getPlatformNum:function(){return this.platformGroupResource.find((function(t){return"孤立主机组"==t.name}))?this.platformGroupResource.length-1:this.platformGroupResource.length},getProductLineNum:function(){var t,s=this,a=new Set,i=Object(e.a)(this.platformGroupResource);try{var o=function(){var e=t.value,i=s.applicationResource.find((function(t){return t.APPLICATION_name==e.name}));if(i){var o=s.applicationGroupResource.find((function(t){return t.code==i.parent_inst}));o&&a.add(o.code)}};for(i.s();!(t=i.n()).done;)o()}catch(t){i.e(t)}finally{i.f()}return a.size},getCostPie:function(){return function(t){var s,a=[],i=Object(e.a)(this.applicationGroupResource);try{for(i.s();!(s=i.n()).done;){var o,n=s.value,c=[],r=0,l=Object(e.a)(this.applicationResource);try{for(l.s();!(o=l.n()).done;){var u=o.value;u.parent_inst==n.code&&c.push(u.APPLICATION_name)}}catch(t){l.e(t)}finally{l.f()}var p,d=Object(e.a)(this.platformGroupResource);try{for(d.s();!(p=d.n()).done;){var f=p.value;c.includes(f.name)&&f.currencyClass[0]==t&&(r=r+f.hostCost+f.diskCost+f.bandwidthCost)}}catch(t){d.e(t)}finally{d.f()}r&&a.push({name:n.BUSINESS_VISIBLE_NAME,value:r})}}catch(t){i.e(t)}finally{i.f()}return a.length||a.push({name:"暂无数据",value:0,itemStyle:{color:"#C8C8C8"}}),a}},getCostTotal:function(){return function(t){var s,a=0,i=Object(e.a)(this.platformGroupResource);try{for(i.s();!(s=i.n()).done;){var o=s.value;o.currencyClass[0]==t&&(a+=o.hostCost+o.diskCost+o.bandwidthCost)}}catch(t){i.e(t)}finally{i.f()}return a}}})},u=(a("e8fc"),Object(r.a)(l,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("a-card",{attrs:{bodyStyle:{padding:"0px"}}},[a("a-page-header",{attrs:{title:"产品线费用概览"}},[a("a-breadcrumb",{attrs:{slot:"subTitle",separator:">"},slot:"subTitle"},[a("a-breadcrumb-item",{staticStyle:{color:"rgba(0, 0, 0, 0.65)"}},[t._v("费用统计")]),a("a-breadcrumb-item",{staticStyle:{color:"rgba(0, 0, 0, 0.65)"}},[t._v("产品线费用概览")])],1)],1)],1),a("a-row",{staticClass:"card-space",staticStyle:{"margin-top":"8px"},attrs:{gutter:0}},[a("a-col",{attrs:{span:6}},[a("a-card",{attrs:{size:"small",title:"总览信息",headStyle:{"font-weight":"bold"},bodyStyle:{padding:"0px 16px 0px"}}},[a("a-list",{staticStyle:{height:"19vw","padding-top":"0.8vw"},attrs:{size:"small",split:!1}},[a("a-list-item",{staticClass:"list-item"},[a("span",{staticClass:"list-content"},[a("span",{staticClass:"iconfont icon2-chanpin-xian"}),a("span",[t._v("产品线数量: "),a("span",{staticClass:"list-value"},[t._v(t._s(t.getProductLineNum))])])])]),a("a-list-item",{staticClass:"list-item"},[a("span",{staticClass:"list-content"},[a("span",{staticClass:"iconfont icon2-pingtaiguanli"}),a("span",[t._v("平台应用数量: "),a("span",{staticClass:"list-value"},[t._v(t._s(t.getPlatformNum))])])])]),a("a-list-item",{staticClass:"list-item"},[a("span",{staticClass:"list-content"},[a("span",{staticClass:"iconfont icon2-yunzhuji3",staticStyle:{"font-size":"1.7vw"}}),a("span",[t._v("服务器总数量: "),a("span",{staticClass:"list-value"},[t._v(t._s(t.hostCostResource.length))])])])]),a("a-list-item",{staticClass:"list-item"},[a("span",{staticClass:"list-content"},[a("span",{staticClass:"iconfont icon2-hardware"}),a("span",[t._v("主机费用: "),a("span",{staticClass:"list-value"},[t._v("¥"+t._s(t.getCost("host","1"))+", $"+t._s(t.getCost("host","2")))])])])]),a("a-list-item",{staticClass:"list-item"},[a("span",{staticClass:"list-content"},[a("span",{staticClass:"iconfont icon2-disk1"}),a("span",[t._v("磁盘费用: "),a("span",{staticClass:"list-value"},[t._v("¥"+t._s(t.getCost("disk","1"))+", $"+t._s(t.getCost("disk","2")))])])])]),a("a-list-item",{staticClass:"list-item"},[a("span",{staticClass:"list-content"},[a("span",{staticClass:"iconfont icon2-gongwangdaikuan"}),a("span",[t._v("带宽费用: "),a("span",{staticClass:"list-value"},[t._v("¥"+t._s(t.getCost("bandwidth","1"))+", $"+t._s(t.getCost("bandwidth","2")))])])])])],1)],1)],1),a("a-col",{attrs:{span:18}},[a("a-card",{attrs:{size:"small",title:"产品线年费用分布",headStyle:{"font-weight":"bold"},bodyStyle:{padding:"0px"}}},[a("a-col",{attrs:{span:12}},[a("div",{staticClass:"costBanner",staticStyle:{background:"#B886F8"}},[t._v("总费用(人民币): ¥"+t._s(t.getCostTotal("1")))]),a("CostPie",{attrs:{pieData:t.getCostPie("1"),id:"rmb"}})],1),a("a-col",{attrs:{span:12}},[a("div",{staticClass:"costBanner",staticStyle:{background:"#DE868F"}},[t._v("总费用(美元): $"+t._s(t.getCostTotal("2")))]),a("CostPie",{attrs:{pieData:t.getCostPie("2"),id:"my"}})],1)],1)],1)],1),a("a-card",[t._v(" "+t._s(t.platformGroupResource)+" ")])],1)}),[],!1,null,"ca4444a8",null));s.default=u.exports},"8f01":function(t,s,a){},e8fc:function(t,s,a){"use strict";var e=a("8f01");a.n(e).a}}]);